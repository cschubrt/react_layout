This repository is a small React + Vite single-page app. The goal of this document is to give an AI coding agent the precise, discoverable facts needed to make productive edits.

Core overview
- Framework: React (JSX files under `src/`) built with Vite and `@vitejs/plugin-react-swc` (see `vite.config.js`).
- App entry: `index.html` -> `/src/main.jsx` -> `App.jsx`.
- Layout & composition: `src/layout/Layout.jsx` is the top-level layout that manages UI state (modal toggles) and renders `children`. `MobileHeader.jsx` and `Header.jsx` handle responsiveness and menu toggles.
- Forms: `src/forms/Login.jsx` and `src/forms/Contact.jsx` use Formik + Yup for client-side form handling and validation. Both use the same click-outside pattern (attach `mousedown` listener in `useEffect`) to close popups.
- Static assets and styles: `src/assets/` holds images and `src/assets/css/*.css`. `stylesV1.css` includes a W3.CSS-derived design system; code uses global class names (not CSS modules).

Key files to read for edits
- `package.json` — scripts: `dev`, `build`, `preview`, `lint` and declared deps (react, react-dom, formik, yup, vite).
- `vite.config.js` — Vite + SWC plugin configuration.
- `src/layout/Layout.jsx` — central state for showing `Login` / `Contact` components; pass toggle functions down as props.
- `src/forms/*` — pattern for modal popups: a wrapper `.popup` + `popup-inner`, `ref` + `mousedown` listener to close outside clicks; Formik initialValues/validationSchema/onSubmit are the canonical shape.
- `index.html` — root DOM element and some inline styles and external CDN fonts/icons referenced here.

Data flow & patterns (concrete examples)
- Toggle flow: `Layout.jsx` defines toggle functions and state: showLogin/showContact -> passes `toggleLogin`/`toggleContact` into `MobileHeader` -> `Header` -> click handlers call toggles to open/close popups.
- Click-outside close: `Contact.jsx` and `Login.jsx` attach `document.addEventListener('mousedown', handleBoundary)` and remove it in cleanup; `handleBoundary` checks `divRef.current.contains(e.target)` and calls `toggle()` when outside.
- Forms: use Formik components (`Formik`, `Form`, `Field`, `ErrorMessage`) with Yup schemas. Submit currently triggers an `alert(JSON.stringify(...))` (no backend integration in repository).

Developer workflows (commands you can run locally)
- Start dev server with HMR: `npm run dev` (Vite). Use this when editing UI/JSX.
- Build for production: `npm run build` (Vite build output not tracked in repo).
- Preview production build: `npm run preview`.
- Lint: `npm run lint` (ESLint config in `eslint.config.js`).

CI / integration notes (important mismatches to be aware of)
- There is a GitHub Actions workflow at `.github/workflows/main.yml`. It expects `Dockerfile.dev`, `Dockerfile`, and runs `npx vitest` inside a Docker image.
- I did not find `Dockerfile`, `Dockerfile.dev`, or any Vitest config/tests in the repository. If you modify CI, either add those files or update the workflow (common edits: switch to native `npm ci && npx vitest` step or remove Docker build steps).
- Workflow triggers: the YAML triggers on branch `main` while the current repo branch is `master` — be careful when testing or pushing changes to CI behavior.

Conventions & small rules an agent should follow
- Files use .jsx and default exports. When adding or editing components, follow the existing default-export style (example: `export default function Component(){}` in `App.jsx`, `PageImage.jsx`).
- Styling: use the global CSS in `src/assets/css/` and W3 classnames. Prefer adding class names to existing elements instead of introducing CSS-in-JS unless you update the CSS files.
- Assets: import images from `src/assets/` (example: `import pic from '../assets/mt.jpg'` in `PageImage.jsx`). Use relative imports so Vite resolves them at build time.
- State & props: Layout holds modal state; prefer to change toggles there rather than adding additional top-level state elsewhere for popups.
- Click-outside handlers: preserve the existing `useEffect` add/remove pattern (attach listener on mount, cleanup on unmount) when refactoring popups.

Tests & types
- There are no tests or TypeScript types in the repo. The GitHub Actions workflow mentions Vitest, but there are no test files. If you add tests, follow a small-tests-first approach and add Vitest config at repo root.

When editing: safety checks before opening a PR
- Run `npm run dev` and exercise the Login and Contact popups (they close on outside clicks). Confirm HMR updates your JSX changes.
- Run `npm run lint` and fix any lint warnings generated by `eslint.config.js` (rule: `no-unused-vars` configured to ignore names starting with capital letters or underscores).
- If touching CI, verify `.github/workflows/main.yml` expectations (Dockerfiles, Vitest). Update the workflow or add the missing artifacts.

If anything above is unclear or you want the agent to enforce extra project rules (tests, commit message format, stricter linting), tell me which rules you want and I'll fold them into this file.
